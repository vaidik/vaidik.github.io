<!doctype html>
<!-- https://github.com/paulirish/html5-boilerplate/blob/master/index.html -->
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
    <meta charset="">

  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
       Remove this if you use the .htaccess -->
  <meta http-equiv="X-UA-Compatible" content="">

  <!-- encoding must be specified within the first 512 bytes
        www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#charset -->

  <!-- meta element for compatibility mode needs to be before
        all elements except title & meta
        msdn.microsoft.com/en-us/library/cc288325(VS.85).aspx -->
  <!-- Chrome Frame is only invoked if meta element for
        compatibility mode is within the first 1K bytes
        code.google.com/p/chromium/issues/detail?id=23003 -->

  <title>Comments in JSON</title>
  <meta name="description" content="Personal blog of Vaidik Kapoor.">
  <meta name="author" content="Vaidik Kapoor">

  <!--  Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="">

    <!-- Place favicon.ico & apple-touch-icon.png
        in the root of your domain and delete these references -->
  <link rel="shortcut icon" href="/media/favicon.ico">
  <link rel="apple-touch-icon" href="/media/apple-touch-icon.png">
  
  <!-- External Fonts -->
  <link href='http://fonts.googleapis.com/css?family=Mate+SC|Oxygen' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Balthazar' rel='stylesheet' type='text/css'>

  <!-- highlight.js -->
  <link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/default.min.css">
  <script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

    <link rel="stylesheet" href="/media/css/site.css">
  <link rel="stylesheet" href="/media/css/syntax.css">
  
    <!-- All JavaScript at the bottom, except for Modernizr which
        enables HTML5 elements & feature detects -->
    <script src="/media/js/libs/modernizr-1.7.min.js"></script>
    </head>
<body id="commentjson">
    <div id="container">
            <div id="main" role="main">
          <header class="clearfix">
              <h1>Vaidik Kapoor</h1>
                                          <nav >
        <a title="Home Page"
        class="home"
        href="/index.html">
        Home
    </a>    <a title="Blog Archives"
        class="active blog"
        href="/blog">
        Archives
    </a>    <a title="About"
        class="about"
        href="/about.html">
        About
    </a></nav>
              
          </header>

          <section class="content">
              <div class="post">
        <article>
            <aside>
                <time datetime="2013-09-11">
                    September 11, 2013
                </time>
            </aside>
            <section>
                <h2>
                    <a href="">Comments in JSON</a>
                </h2>
                <p>A lot of projects/people use <a href="http://en.wikipedia.org/wiki/JSON"><span class="caps">JSON</span></a> for storing configurations in <span class="caps">JSON</span>
files. And it makes a lot of sense to be able to add comments in your
configuration files in order to explain what every configuration does. We tend
to forget these things and being able to add comments may come really handy.
<a href="http://en.wikipedia.org/wiki/YAML"><span class="caps">YAML</span></a>, for instance, allows you to <a href="http://en.wikipedia.org/wiki/YAML#Syntax">add comments</a> and this can
be really useful in two&nbsp;ways:</p>
<ol>
<li>Helps you remember what every configuration&nbsp;means.</li>
<li>The configuration file becomes self-explanatory in case the project is&nbsp;open-source.</li>
</ol>
<p>What should we use to store configurations is out of the scope of this blog
post (although <span class="caps">IMHO</span> I&#8217;d probably use <span class="caps">YAML</span> instead of <span class="caps">JSON</span> for configurations
because it just looks a lot more readable to me). But if you are using
currently using <span class="caps">JSON</span> for this purpose, don&#8217;t you think it&#8217;d be great to have
a way to add comments in your <span class="caps">JSON</span>&nbsp;files?</p>
<p>I primarily program in Python so I thought it&#8217;d be nice to have a way to do
this. So I worked on a little project to do just this. Allow me to introduce
you to <a href="http://github.com/vaidik/commentjson"><code>commentjson</code></a>. <code>commentjson</code> is a Python library that allows you
to parse <span class="caps">JSON</span> files that have Python style comments in them, like&nbsp;so:</p>
<pre><code>{
    "name": "Vaidik Kapoor", # Person's name
    "location": "Delhi, India",

    # Section contains info about person's appearance
    "appearance": {
        "hair_color": "black",
        "eyes_color": "black",
        "height": "6"
    }
}
</code></pre>
<p><code>commentjson</code> has a really simple <span class="caps">API</span>. commentjson<code>supports every function
that the</code>json<code>module exposes. In fact, if you have used or are using Python
standard library's</code>json` module, then you just have to do change one line in
your&nbsp;code.</p>
<p>Change</p>
<pre><code>import json
</code></pre>
<p>to</p>
<pre><code>import commentjson as json
</code></pre>
<p>And that&#8217;s it! <code>commentjson</code> has the same <span class="caps">API</span> as Python&#8217;s <code>json</code> module and
therefore requires no learning or any extra effort at all, other than adding
comments in your <span class="caps">JSON</span>&nbsp;files.</p>
<h3>How does it&nbsp;work?</h3>
<p><code>commentjson</code> does not try to do a lot. The <code>dump</code> and <code>dump</code> functions do
nothing extra other than using <code>json</code>&#8216;s <code>dump</code> and <code>dumps</code> respectively. The
<code>load</code> and <code>loads</code> methods use <code>json</code>&#8216;s <code>load</code> and <code>loads</code> functions as well,
but before that step, <code>commentjson</code> strips out all the comments and returns a
deserializable <span class="caps">JSON</span> string that can be parsed by <code>json</code> module.</p>
<p>If an exception is raised at the step when <code>commentjson</code> is using <code>json</code>&#8216;s
functions, <code>commentjson</code> throws a custom exception called
<code>JSONLibraryException</code> which nicely wraps around the traceback thrown by
<code>json</code>. This is to allow you to be able identify the cause of that exception
with&nbsp;ease.</p>
<p>I hope people and projects that are already using <span class="caps">JSON</span> for storing
configurations will find this useful. If there are any more usecases around
this, please share. <a href="http://github.com/vaidik/commentjson"><code>commentjson</code></a> is available on Github. You are more than
welcome to file issues and send pull&nbsp;requests.</p>
<h3>Documentation</h3>
<p>Thorough documentation is available on <a href="http://commentjson.readthedocs.org/en/latest/"><span class="caps">RTFD</span></a>.</p>            </section>
        </article>

        <section>
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                var disqus_shortname = 'vaidikkapoor'; // required: replace example with your forum shortname

                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </section>
    </div>          </section>
      </div>

      <footer>
                              <nav >
        <a title="Home Page"
        class="home"
        href="/index.html">
        Home
    </a>    <a title="Blog Archives"
        class="active blog"
        href="/blog">
        Archives
    </a>    <a title="About"
        class="about"
        href="/about.html">
        About
    </a></nav>
                    <section class="credits">
              Built using <a href="http://ringce.com/hyde" target="_blank">Hyde</a>.
          </section>
      </footer>
      </div> <!--! end of #container -->
  
    <!-- Javascript at the bottom for fast page loading -->
    <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if necessary -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.js"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.5.1.min.js">\x3C/script>')</script>
  
    

  <!--[if lt IE 7 ]>
    <script src="js/libs/dd_belatedpng.js"></script>
    <script>DD_belatedPNG.fix('img, .png_bg'); // Fix any <img> or .png_bg bg-images. Also, please read goo.gl/mZiyb </script>
  <![endif]-->

      
  </body>
</html>